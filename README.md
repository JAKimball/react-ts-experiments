# react-ts-experiments

A playground for experimenting in React with TypeScript and Vite.

## Other Features

- [x] [Tailwind CSS](https://tailwindcss.com/)
- [x] [ESLint](https://eslint.org/)
- [ ] [Prettier](https://prettier.io/)
- [ ] [Vitest](https://vitest.dev/)
- [ ] [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [ ] [Husky](https://typicode.github.io/husky/#/)
- [ ] [Lint Staged](https://github.com/okonet/lint-staged)

Originally created with [create-vite](https://github.com/vitejs/vite/tree/main/packages/create-vite#create-vite-). The scaffolding process is documented [here](#scaffolding-and-configuration).

## Setup

```bash
# Install dependencies
pnpm install

# Start the dev server
pnpm dev

# Build for production
pnpm build

# Run tests
pnpm test

# Lint
pnpm lint
```

## Scaffolding and Configuration

Originally created with [create-vite](https://github.com/vitejs/vite/tree/main/packages/create-vite#create-vite-):

```bash
# Create a new project in the current directory 
# using the "react-ts" template
pnpm create vite . --template react-ts
```

The default vite plugin from the `react-ts` template was replaced to allow Fast Refresh using SWC instead of Babel.

```bash
# Remove the default vite plugin
pnpm remove @vitejs/plugin-react

# Install the SWC plugin
pnpm add -D @vitejs/plugin-react-swc
```

To enable Fast Refresh with SWC, the `vite.config.ts` file was updated to use the SWC plugin the build targets for production and development were set to `esnext`.

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react-swc'

// https://vitejs.dev/config/
export default defineConfig({
  build: {
    target: 'esnext',
  },
  plugins: [
    react({
      devTarget: 'esnext',
    }),
  ],
})
```

### Install development dependencies and configuration

```bash
# Install Tailwind CSS (following Tailwind CSS installation instructions at https://tailwindcss.com/docs/guides/vite)
pnpm add -D tailwindcss postcss autoprefixer
pnpm exec tailwindcss init -p
```

- For VS Code
  - Install the [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss) extension and enable it for the workspace.
  - Once the extension is installed,
    - Enable the extension for the workspace
    - Follow the **Recommended VS Code Settings** in the extension's README

#### Install ESLint and Prettier

ESLint is installed with the create-vite `react-ts` template. Prettier is not installed by default.

- [ ] Followed the [*Expanding the eslint configuration*](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts#expanding-the-eslint-configuration) section of the `react-ts` template README to configure strict rules for TypeScript and React.

Ref: [ESLint installation instructions](https://eslint.org/docs/user-guide/getting-started)

- [ ] Installed [eslint-plugin-react](https://github.com/jsx-eslint/eslint-plugin-react) and add `plugin:react/recommended` & `plugin:react/jsx-runtime` to the `extends` list

### Plan for Ensuring a Stable and Up-to-Date Developer Toolchain and Configuration

- [ ] Create a [GitHub Action](https://docs.github.com/en/actions) to run `pnpm update` and `pnpm install` on a schedule
- [ ] Create a [GitHub Action](https://docs.github.com/en/actions) to run `pnpm update` and `pnpm install` on a push to the `main` branch
- [ ] Create a [GitHub Action](https://docs.github.com/en/actions) to run `pnpm update` and `pnpm install` on a pull request to the `main` branch

## Sources and References for Best Practices and Great Configurations

- [Vite Docs](https://vitejs.dev/guide/)

## Dependencies

<!-- TODO: Vet the above dependency list -->

### Git

#### Gitignore

This project uses a [gitignore](./.gitignore) file generated by [gitignore.io](https://www.toptal.com/developers/gitignore).

- Created by: <https://www.toptal.com/developers/gitignore/api/node,linux,macos,windows,webstorm,visualstudiocode>
- Edit at: <https://www.toptal.com/developers/gitignore?templates=node,linux,macos,windows,webstorm,visualstudiocode>

The original react-ts vite template gitignore file is appended to the end of the generated gitignore file. It appears to be not entirely redundant, so it is left in place.

#### Commit Message Conventions

#### Husky and Lint Staged

This project uses [Husky](https://typicode.github.io/husky/#/) and [Lint Staged](https://github.com/okonet/lint-staged) to run linting and tests before commits.

### TypeScript

### ESLint

### Prettier

### Tailwind CSS

### Vitest

### React Testing Library

### Husky

### Lint Staged

### knip

## Accessibility

- [ ] TODO: Consider adding [eslint-plugin-jsx-a11y](https://github.com/jsx-eslint/eslint-plugin-jsx-a11y) for JSX accessibility linting

## License

[MIT](./LICENSE)

## Additional Notes

- [ ] TODO: Convert to the new eslint config format. This (`.eslintrc.*`) is deprecated and will not be the default format in v9, and will be removed in v10. eslint >=8.23.0 is 100% compatible with the new format, but many tools are still catching up as of Feb 2024. The `eslint-flat-config` branch of this repo contains WIP changes to the eslint config to use the new format.

See [Migrating from "legacy" config setups](https://typescript-eslint.io/packages/typescript-eslint/#migrating-from-legacy-config-setups)
and [ESLint's Configuration Migration Guide](https://eslint.org/docs/latest/use/configure/migration-guide).

You might want to check out the official blog posts,

- [https://eslint.org/blog/2022/08/new-config-system-part-1/](https://eslint.org/blog/2022/08/new-config-system-part-1/)
- [https://eslint.org/blog/2022/08/new-config-system-part-2/](https://eslint.org/blog/2022/08/new-config-system-part-2/)
- [https://eslint.org/blog/2022/08/new-config-system-part-3/](https://eslint.org/blog/2022/08/new-config-system-part-3/)

and [jsx-eslint/eslint-plugin-react: React-specific linting rules for ESLint (github.com)](https://github.com/jsx-eslint/eslint-plugin-react?tab=readme-ov-file)

and the [official ESLint docs](https://eslint.org/docs/latest/user-guide/configuring/configuration-files-new).

<!-- Links -->

- Developer Docs
  - [react](https://react.dev/)
  - [typescript](https://www.typescriptlang.org/)
  - [vite](https://vitejs.dev/)
  - [eslint](https://eslint.org/)
  - [prettier](https://prettier.io/)
  - [tailwindcss](https://tailwindcss.com/)
  - [vitest](https://vitest.dev/)
  - [react testing library](https://testing-library.com/docs/react-testing-library/intro/)
  - [husky](https://typicode.github.io/husky/#/)
  - [lint staged](https://github.com/okonet/lint-staged)
  - [pnpm](https://pnpm.io/)
  - [gitignore.io](https://www.toptal.com/developers/gitignore)
  - [GitHub Actions](https://docs.github.com/en/actions)
  